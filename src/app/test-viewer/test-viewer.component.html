<div class="test-viewer-container">
  <canvas #canvas class="model-canvas"></canvas>
  
  <div *ngIf="isLoading" class="loading-overlay">
    <div class="loading-spinner"></div>
    <span class="loading-text">RECHERCHE DU FOND DE RUE...</span>
    <div class="loading-subtext">
      Test des chemins: assets/shoot_background__graffiti_street.glb
    </div>
  </div>
  
  <div *ngIf="isLoaded && showDebugPanel" class="debug-panel">
    <div class="debug-header">
      <h3>ğŸ” DEBUG PANEL</h3>
      <button class="close-btn" (click)="showDebugPanel = false">Ã—</button>
    </div>
    
    <div class="debug-section">
      <h4>ğŸ¯ FOND DE RUE</h4>
      <div class="debug-status" [class.success]="debugInfo.backgroundLoaded">
        <span class="status-icon">{{ debugInfo.backgroundLoaded ? 'âœ…' : 'âŒ' }}</span>
        <span class="status-text">
          {{ debugInfo.backgroundLoaded ? 'CHARGÃ‰' : 'NON TROUVÃ‰' }}
        </span>
      </div>
      
      <div *ngIf="debugInfo.foundPath" class="debug-path">
        ğŸ“ Chemin: <code>{{ debugInfo.foundPath }}</code>
      </div>
      
      <div *ngIf="debugInfo.backgroundError" class="debug-error">
        âš ï¸ Erreur: {{ debugInfo.backgroundError }}
      </div>
    </div>
    
    <div class="debug-section">
      <h4>ğŸ§ª TEST MANUEL</h4>
      <div class="path-input">
        <input 
          type="text" 
          [(ngModel)]="manualPath" 
          placeholder="Chemin du fichier .glb"
          class="path-field"
        >
        <button class="test-btn" (click)="testManualPath()">
          Tester ce chemin
        </button>
      </div>
      
      <div class="suggested-paths">
        <h5>Chemins suggÃ©rÃ©s:</h5>
        <ul>
          <li *ngFor="let path of backgroundPaths">
            <code (click)="manualPath = path">{{ path }}</code>
          </li>
        </ul>
      </div>
    </div>
    
    <div class="debug-section">
      <h4>ğŸ“ ASSETS</h4>
      <button class="asset-btn" (click)="checkAssetStructure()">
        VÃ©rifier la structure des fichiers
      </button>
    </div>
    
    <div class="debug-info">
      <span class="info-text">ğŸ‘ï¸ Objets: {{ children?.length || 0 }}</span>
      <span class="info-text">ğŸ¯ Rotation: {{ autoRotate ? 'ON' : 'OFF' }}</span>
    </div>
  </div>
  
  <button *ngIf="!showDebugPanel" class="toggle-debug-btn" (click)="showDebugPanel = true">
    ğŸ” DEBUG
  </button>
</div>